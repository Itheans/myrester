
<!DOCTYPE html>
<html lang="th">
<head>
  <meta charset="UTF-8">
  <title>‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£‡πÄ‡∏°‡∏ô‡∏π</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
</head>
<body>
<div class="container py-4">
  <h4 class="mb-4">üìã ‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£‡πÄ‡∏°‡∏ô‡∏π</h4>

  <form onsubmit="event.preventDefault(); saveMenu();">
    <div class="mb-3">
      <label class="form-label">‡∏ä‡∏∑‡πà‡∏≠‡πÄ‡∏°‡∏ô‡∏π</label>
      <input type="text" class="form-control" id="menu-name" placeholder="‡πÄ‡∏ä‡πà‡∏ô ‡∏£‡∏≤‡∏î‡∏´‡∏ô‡πâ‡∏≤‡∏´‡∏°‡∏π">
    </div>
    <div class="mb-3">
      <label class="form-label">‡∏£‡∏≤‡∏Ñ‡∏≤ (‡∏ö‡∏≤‡∏ó)</label>
      <input type="number" class="form-control" id="menu-price">
    </div>
    <input type="hidden" id="editing-index">
    <button type="submit" class="btn btn-warning w-100" id="save-button">‡πÄ‡∏û‡∏¥‡πà‡∏°‡πÄ‡∏°‡∏ô‡∏π</button>
  </form>

  <hr class="my-4">
  <h5>üìã ‡πÄ‡∏°‡∏ô‡∏π‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î</h5>
  <table class="table table-bordered">
    <thead>
      <tr>
        <th>‡∏ä‡∏∑‡πà‡∏≠‡πÄ‡∏°‡∏ô‡∏π</th>
        <th>‡∏£‡∏≤‡∏Ñ‡∏≤</th>
        <th>‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£</th>
      </tr>
    </thead>
    <tbody id="menuTable"></tbody>
  </table>

  <a href="index.html" class="btn btn-secondary mt-3 w-100">üîô ‡∏Å‡∏•‡∏±‡∏ö‡πÄ‡∏°‡∏ô‡∏π‡∏´‡∏•‡∏±‡∏Å</a>
</div>

<script>
  function saveMenu() {
    const name = document.getElementById("menu-name").value;
    const price = document.getElementById("menu-price").value;
    const editingIndex = document.getElementById("editing-index").value;

    if (name === "" || price === "") {
      alert("‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡∏Å‡∏£‡∏≠‡∏Å‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡πÉ‡∏´‡πâ‡∏Ñ‡∏£‡∏ö");
      return;
    }

    let menus = JSON.parse(localStorage.getItem("menus")) || [];

    if (editingIndex === "") {
      menus.push({ name: name, price: parseFloat(price) });
    } else {
      menus[editingIndex] = { name: name, price: parseFloat(price) };
      document.getElementById("save-button").innerText = "‡πÄ‡∏û‡∏¥‡πà‡∏°‡πÄ‡∏°‡∏ô‡∏π";
    }

    localStorage.setItem("menus", JSON.stringify(menus));
    document.getElementById("menu-name").value = "";
    document.getElementById("menu-price").value = "";
    document.getElementById("editing-index").value = "";

    loadMenus();
  }

  function editMenu(index) {
    const menus = JSON.parse(localStorage.getItem("menus")) || [];
    const menu = menus[index];
    document.getElementById("menu-name").value = menu.name;
    document.getElementById("menu-price").value = menu.price;
    document.getElementById("editing-index").value = index;
    document.getElementById("save-button").innerText = "‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡∏Å‡∏≤‡∏£‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç";
  }

  function deleteMenu(index) {
    if (!confirm("‡∏¢‡∏∑‡∏ô‡∏¢‡∏±‡∏ô‡∏Å‡∏≤‡∏£‡∏•‡∏ö‡πÄ‡∏°‡∏ô‡∏π‡∏ô‡∏µ‡πâ?")) return;
    let menus = JSON.parse(localStorage.getItem("menus")) || [];
    menus.splice(index, 1);
    localStorage.setItem("menus", JSON.stringify(menus));
    loadMenus();
  }

  function loadMenus() {
    const menus = JSON.parse(localStorage.getItem("menus")) || [];
    const table = document.getElementById("menuTable");
    table.innerHTML = "";
    menus.forEach((m, i) => {
      table.innerHTML += `
        <tr>
          <td>${m.name}</td>
          <td>${m.price.toFixed(2)}</td>
          <td>
            <button class="btn btn-sm btn-primary me-2" onclick="editMenu(${i})">‚úèÔ∏è ‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç</button>
            <button class="btn btn-sm btn-danger" onclick="deleteMenu(${i})">üóëÔ∏è ‡∏•‡∏ö</button>
          </td>
        </tr>
      `;
    });
  }

  window.onload = loadMenus;
</script>
</body>
</html>
